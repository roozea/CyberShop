{"ast":null,"code":"import axios from\"axios\";import{API_URL}from\"../config\";const api=axios.create({baseURL:API_URL,withCredentials:true});api.interceptors.request.use(config=>{const token=localStorage.getItem(\"token\");if(token){config.headers.Authorization=`Bearer ${token}`;}return config;});export const login=async credentials=>{const response=await api.post(\"/auth/login\",credentials);if(response.data.access_token){localStorage.setItem(\"token\",response.data.access_token);}return response.data;};export const register=async userData=>{const response=await api.post(\"/auth/register\",userData);return response.data;};export const getProducts=async()=>{const response=await api.get(\"/products\");return response.data;};export const searchProducts=async query=>{const response=await api.get(`/products/search?query=${query}`);return response.data;};export const addToCart=async productData=>{const response=await api.post(\"/cart/add\",productData);return response.data;};export const getCart=async()=>{const response=await api.get(\"/cart\");return response.data;};export const addComment=async(productId,commentData)=>{const response=await api.post(`/products/${productId}/comments`,commentData);return response.data;};export default api;","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","withCredentials","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","login","credentials","response","post","data","access_token","setItem","register","userData","getProducts","get","searchProducts","query","addToCart","productData","getCart","addComment","productId","commentData"],"sources":["/home/ubuntu/cybershop-vuln-lab/CyberShop/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\"; import { API_URL } from \"../config\"; const api = axios.create({ baseURL: API_URL, withCredentials: true }); api.interceptors.request.use((config) => { const token = localStorage.getItem(\"token\"); if (token) { config.headers.Authorization = `Bearer ${token}`; } return config; }); export const login = async (credentials) => { const response = await api.post(\"/auth/login\", credentials); if (response.data.access_token) { localStorage.setItem(\"token\", response.data.access_token); } return response.data; }; export const register = async (userData) => { const response = await api.post(\"/auth/register\", userData); return response.data; }; export const getProducts = async () => { const response = await api.get(\"/products\"); return response.data; }; export const searchProducts = async (query) => { const response = await api.get(`/products/search?query=${query}`); return response.data; }; export const addToCart = async (productData) => { const response = await api.post(\"/cart/add\", productData); return response.data; }; export const getCart = async () => { const response = await api.get(\"/cart\"); return response.data; }; export const addComment = async (productId, commentData) => { const response = await api.post(`/products/${productId}/comments`, commentData); return response.data; }; export default api;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAE,OAASC,OAAO,KAAQ,WAAW,CAAE,KAAM,CAAAC,GAAG,CAAGF,KAAK,CAACG,MAAM,CAAC,CAAEC,OAAO,CAAEH,OAAO,CAAEI,eAAe,CAAE,IAAK,CAAC,CAAC,CAAEH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,EAAK,CAAE,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,GAAIF,KAAK,CAAE,CAAED,MAAM,CAACI,OAAO,CAACC,aAAa,CAAG,UAAUJ,KAAK,EAAE,CAAE,CAAE,MAAO,CAAAD,MAAM,CAAE,CAAC,CAAC,CAAE,MAAO,MAAM,CAAAM,KAAK,CAAG,KAAO,CAAAC,WAAW,EAAK,CAAE,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAf,GAAG,CAACgB,IAAI,CAAC,aAAa,CAAEF,WAAW,CAAC,CAAE,GAAIC,QAAQ,CAACE,IAAI,CAACC,YAAY,CAAE,CAAET,YAAY,CAACU,OAAO,CAAC,OAAO,CAAEJ,QAAQ,CAACE,IAAI,CAACC,YAAY,CAAC,CAAE,CAAE,MAAO,CAAAH,QAAQ,CAACE,IAAI,CAAE,CAAC,CAAE,MAAO,MAAM,CAAAG,QAAQ,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAAE,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAf,GAAG,CAACgB,IAAI,CAAC,gBAAgB,CAAEK,QAAQ,CAAC,CAAE,MAAO,CAAAN,QAAQ,CAACE,IAAI,CAAE,CAAC,CAAE,MAAO,MAAM,CAAAK,WAAW,CAAG,KAAAA,CAAA,GAAY,CAAE,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAf,GAAG,CAACuB,GAAG,CAAC,WAAW,CAAC,CAAE,MAAO,CAAAR,QAAQ,CAACE,IAAI,CAAE,CAAC,CAAE,MAAO,MAAM,CAAAO,cAAc,CAAG,KAAO,CAAAC,KAAK,EAAK,CAAE,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAf,GAAG,CAACuB,GAAG,CAAC,0BAA0BE,KAAK,EAAE,CAAC,CAAE,MAAO,CAAAV,QAAQ,CAACE,IAAI,CAAE,CAAC,CAAE,MAAO,MAAM,CAAAS,SAAS,CAAG,KAAO,CAAAC,WAAW,EAAK,CAAE,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAAf,GAAG,CAACgB,IAAI,CAAC,WAAW,CAAEW,WAAW,CAAC,CAAE,MAAO,CAAAZ,QAAQ,CAACE,IAAI,CAAE,CAAC,CAAE,MAAO,MAAM,CAAAW,OAAO,CAAG,KAAAA,CAAA,GAAY,CAAE,KAAM,CAAAb,QAAQ,CAAG,KAAM,CAAAf,GAAG,CAACuB,GAAG,CAAC,OAAO,CAAC,CAAE,MAAO,CAAAR,QAAQ,CAACE,IAAI,CAAE,CAAC,CAAE,MAAO,MAAM,CAAAY,UAAU,CAAG,KAAAA,CAAOC,SAAS,CAAEC,WAAW,GAAK,CAAE,KAAM,CAAAhB,QAAQ,CAAG,KAAM,CAAAf,GAAG,CAACgB,IAAI,CAAC,aAAac,SAAS,WAAW,CAAEC,WAAW,CAAC,CAAE,MAAO,CAAAhB,QAAQ,CAACE,IAAI,CAAE,CAAC,CAAE,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}